{"version":3,"sources":["../../src/pages/chat-content/chat-content.module.ts","../../src/pages/chat-content/chat-content.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatContentPage } from './chat-content';\n//import { ImageLoaderConfig } from 'ionic-image-loader';\nimport { IonicImageLoader } from 'ionic-image-loader';\n@NgModule({\n  declarations: [\n    ChatContentPage,\n  \n  ],\n  imports: [\n    IonicPageModule.forChild(ChatContentPage),\n    IonicImageLoader\n  ],\n})\nexport class ChatContentPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-content/chat-content.module.ts","import { Component , ViewChild} from '@angular/core';\nimport { IonicPage, NavController, NavParams , Content} from 'ionic-angular';\nimport * as firebase from 'Firebase';\nimport { Storage } from '@ionic/storage';\nimport { Camera,CameraOptions} from '@ionic-native/camera';\nimport {  AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\nimport { ImageLoaderConfig } from 'ionic-image-loader';\nimport { HttpClient } from '@angular/common/http';\n/**\n * Generated class for the ChatContentPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-chat-content',\n  templateUrl: 'chat-content.html',\n})\nexport class ChatContentPage {\n  @ViewChild('content') content: Content;\n  //@ViewChild(Content) content: Content;\n  imageContent:any\n  myPhotosRef :any;\n  data = { type:'', nickname:'', message:'' };\n  chats = [];\n  roomkey:string;\n  nickname:string;\n  roomname:string;\n  offStatus:boolean = false;\n  adminid:any;\n  instid:any;\n  userid:any;\n  useridFrom:any;\n  role:any;\n  chat=[]\n  questions=[]\n  answer:any=[];\n  userJson :any;\n  curuser:any;\n  myphoto:any\n  myphotourl:any\n  image:any;\n  uri:any;\n  updateduri:any;\n  url:any;\n  ticketId:any;\n  appUrl:any;\n  pins:any;\n  senderName:any;\n  source:any;\n  chatType:any;\n  AppointmentIdGot:any;\n  idDetails:any;\n  idVal:any;\nidValParam:any;\nOrderId:any;\nProviderId:any;\nWorkOrderId:any;\ngetUserDetails:any;\nuserChatDetailsJson:any;\nuserEmail:any;\nuserChatJson:any;\ngetFacilitiesTechnicalIssueUrl:any;\nfilteredJson:any;\nuserFacilitiesTechnicalIssuesJson :any;\n  constructor( public http: HttpClient,public navCtrl: NavController, public navParams: NavParams ,public storage: Storage, public storageimage: AngularFireStorage,\n    public camera:Camera) {\n    \n      this.myPhotosRef = firebase.storage().ref('/Photos/');\n  }\n  async ionViewDidLeave()\n  {\n    //this.roletype == \"super\"||this.roletype == \"providerAdmin\"||this.roletype == \" admin\"\n  //labAdmin\n    if(this.role==\"providerAdmin\"||this.role==\"admin\"||this.role==\"super\")\n{\n  let user=this.userJson.UserId;\n  console.log(\"user\",user);\n  console.log(` cc 1 when leave    ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.instid}/${this.adminid}/${this.useridFrom}/chats`);\nlet dbCon = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.instid}/${this.adminid}/${this.useridFrom}/chats`);\ndbCon.once(\"value\", function(snapshot) {\n  console.log(\"snapshot\",snapshot);\n  snapshot.forEach(function(child) {\n    //console.log(\"snap\",child.val().user);\n    console.log(\"child and user\",child.val().user,user)\n    if(child.val().user != user)\n    child.ref.update({\n      status:'read'\n    });\n  });\n})\n}else if (this.role==\"user\" ||this.role==\"labAdmin\")\n{let user=this.userJson.UserId;\n  console.log(`cc3 when leaved ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.instid}/${this.adminid}/${this.userJson.UserId}/chats`)\n  let dbCon = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.instid}/${this.adminid}/${this.userJson.UserId}/chats`);\n  dbCon.once(\"value\", function(snapshot) {\n    //console.log(\"snapshot\",snapshot);\n    snapshot.forEach(function(child) {\n      //console.log(\"snap\",child.val().user);\n     // console.log(\"child and user\",child.val().user,user)\n      if(child.val().user != user)\n      child.ref.update({\n        status:'read'\n      });\n    });\n  })\n}\n  }\n  async ionViewDidLoad() {\n   await this.storage.get('userDetails').then((val1) => {\n      this.userJson = val1;\n\n    });\n    \n    await this.storage.get('appLink').then((val) => {\n      this.appUrl = val;\n      this.getUserDetails = this.appUrl + '/WS/IdeaElanService.svc/GetAdminByEntity';\n      this.getFacilitiesTechnicalIssueUrl = this.appUrl + '/WS/IdeaElanService.svc/GetTechnicalIssues';\n    });\n    console.log(\"userjson\",this.userJson.UserId);\n    this.adminid= this.navParams.get(\"adminid\");\n    this.instid=this.navParams.get(\"instrumentid\");\n    this.useridFrom=this.navParams.get(\"userid\");\n    this.pins=this.navParams.get(\"pin\");\n    this.role=this.navParams.get(\"role\");\n    this.ticketId=this.navParams.get(\"ticketid\");\n    this.senderName=this.navParams.get(\"senderName\");\n    this.source=this.navParams.get(\"source\");\n    this.chatType=this.navParams.get(\"chatType\")\n    this.OrderId=this.navParams.get(\"OrderId\");\n    this.ProviderId=this.navParams.get(\"ProviderId\");\n    this.WorkOrderId=this.navParams.get(\"WorkOrderId\");\n    console.log(\"userid \",this.useridFrom);\n    //this.userEmail=this.navParams.get(\"userEmail\");\n    if(this.useridFrom!=null)\n    {\n      if(this.role==\"providerAdmin\"||this.role==\"admin\"||this.role==\"super\")\n      {\n        this.loadUserDetails(this.useridFrom,5);\n      }\n    }\n    console.log(\"ticket id , instid from chat content page \", this.ticketId,this.instid);\n    console.log(\"admin\",this.adminid);\n    console.log(\"instrumentid\",this.instid);\n    console.log(\"typeofchat\",this.chatType);\n    console.log(\"ORDER ID\", this.OrderId);\n    console.log(\"provider id \", this.ProviderId);\n   \n    this.AppointmentIdGot= this.navParams.get(\"AppointmentId\");\n    this.roomkey = this.navParams.get(\"key\") as string;\n    this.nickname = this.userJson.UserId;\n    this.roomname= this.instid;\n    console.log(\"roomname\",this.roomname);\n    this.data.type = 'message';\n    this.data.nickname = this.userJson.UserId;\n    this.data.message = '';\n    setTimeout(() => { this.content.scrollToBottom(); }, 200);\n    console.log(\"appointment id chat content page\", this.AppointmentIdGot);\n\n\n    this.idDetails=\"\";\n    this.idVal=\"\"\n    if(this.chatType==\"TechnicalIssues\")\n    {\n      this.idDetails=\"ticketid\"\n       this.idVal=this.ticketId\n       this.idValParam=this.instid\n\nthis.getAllIssues();\n\n\n\n    }\n    else if(this.chatType==\"Reservations\")\n    {\n      this.idDetails=\"appointmentId\"\n       this.idVal=this.AppointmentIdGot;\n       this.idValParam=this.instid;\n    } \n    else if(this.chatType==\"SuppliesOrder\") \n    {\n      this.idDetails=\"orderId\"\n      this.idVal=this.OrderId;\n      this.idValParam=this.ProviderId;\n    }\n\n    else if(this.chatType==\"SampleSubmission\")\n    {\n      this.idDetails=\"WorkOrderId\"\n      this.idVal=this.WorkOrderId;\n      this.idValParam=this.ProviderId;\n    }\n\n\nif(this.role==\"providerAdmin\"||this.role==\"admin\"||this.role==\"super\")\n{\n  let user=this.userJson.UserId;\n  console.log(\"user\",user);\n  console.log(` cc 1 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`);\nlet dbCon = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`);\ndbCon.once(\"value\", function(snapshot) {\n  console.log(\"snapshot\",snapshot);\n  snapshot.forEach(function(child) {\n    //console.log(\"snap\",child.val().user);\n    console.log(\"child and user\",child.val().user,user)\n    if(child.val().user != user)\n    child.ref.update({\n      status:'read'\n    });\n  });\n}).then(async () => {\n     console.log(`cc 2 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`)\n    await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`).on('value', resp => {\n      this.chats = [];\n      this.chats = snapshotToArray(resp);\n      console.log(\"chats123456\",this.chats);\n      setTimeout(() => {\n        if(this.offStatus === false) {\n         // this.content.scrollToBottom(300);\n        }\n      }, 1000);\n    });\n\n\n\n    });\n\n\n\n  }\n  else if( this.role==\"user\"||this.role==\"labAdmin\")\n  {\n    /*\n    let idDetails=\"\";\n    let idVal=\"\"\n      if(this.chatType==\"TechnicalIssues\")\n      {\n        idDetails=\"ticketid\"\n         idVal=this.ticketId\n      }\n      else if(this.chatType==\"Reservations\")\n      {\n        idDetails=\"appointmentId\"\n         idVal=this.AppointmentIdGot\n      }\n\n*/\n\n\n    let user=this.userJson.UserId;\n   // console.log(\"user\",user);\n  //  console.log(`${this.pins}/chatrooms/TechnicalIssues/${this.ticketId}/${this.instid}/${this.adminid}/${this.userJson.UserId}/chats`);\n  console.log(`cc3 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`)\n  let dbCon = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`);\n  dbCon.once(\"value\", function(snapshot) {\n    //console.log(\"snapshot\",snapshot);\n    snapshot.forEach(function(child) {\n      //console.log(\"snap\",child.val().user);\n     // console.log(\"child and user\",child.val().user,user)\n      if(child.val().user != user)\n      child.ref.update({\n        status:'read'\n      });\n    });\n  }).then(async () => {\n       console.log(`cc4 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`)\n    await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`).on('value', resp => {\n      this.chats = [];\n      this.chats = snapshotToArray(resp);\n      //console.log(\"chats123456 user\",this.chats);\n      setTimeout(() => {\n        if(this.offStatus === false) {\n        }\n      \n      }, 1000);\n    });\n  \n  \n      });\n    this.loadAdminImage();\n    \n  }\n}\ngetAllIssues()\n{\n\nconsole.log(\"ticket id\",this.ticketId);\n  this.http.post(this.getFacilitiesTechnicalIssueUrl, {\n    userid: this.userJson.UserId,\n    usertoken: this.userJson.UserToken,\n   paramname: `UserId`,\n    paramvalue:this.userJson.UserId\n  })\n    .subscribe(\n      (data: any) => {\n        //RESPONSE\n\n        let filteredJson;\n        let resSTR = JSON.stringify(data);\n        let resJSON = JSON.parse(resSTR);\n        this.userFacilitiesTechnicalIssuesJson = resJSON;\n        console.log(\"test\",this.userFacilitiesTechnicalIssuesJson);\n        if(this.userFacilitiesTechnicalIssuesJson != null){\n          this.filteredJson = this.userFacilitiesTechnicalIssuesJson.filter(i => i.TicketId == this.ticketId);\n          console.log(\"test\",this.filteredJson);\n        }\n\n        for(let i=0;i<this.userFacilitiesTechnicalIssuesJson.length;i++)\n        {\n            if(this.userFacilitiesTechnicalIssuesJson[i][`TicketId`]==this.ticketId)\n            {\n              this.filteredJson=this.userFacilitiesTechnicalIssuesJson[i];\n   this.filteredJson = JSON.parse(JSON.stringify(this.filteredJson));\n              console.log(\"demo\",this.filteredJson.Description)\n            }\n        }\n        // \n\n        //loader.dismiss();\n\nconsole.log(\"filteredjson\",this.filteredJson);\n\n      },//ERROR HANDLING\n      error => {\n\n       \n      }\n    );\n\n\n\n\n\n\n\n\n\n\n\n\n}\n  async sendMessage() {\n    /*\n    let idDetails=\"\";\n    let idVal=\"\"\n      if(this.chatType==\"TechnicalIssues\")\n      {\n        idDetails=\"ticketid\"\n         idVal=this.ticketId\n      }\n      else if(this.chatType==\"Reservations\")\n      {\n        idDetails=\"appointmentId\"\n         idVal=this.AppointmentIdGot\n         console.log(`appointment , idval`,this.AppointmentIdGot,idVal);\n      }\n*/\n\n    if (this.data.message.replace(/\\s/g, '').length) {\n      console.log('string only contains whitespace (ie. spaces, tabs or line breaks)');\n    \n    if(this.role==\"providerAdmin\"||this.role==\"admin\"||this.role==\"super\")\n    {\n      console.log(` cc5 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`);\n      let newData = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`).push();\n      newData.set({\n        type:this.data.type,\n        user:this.data.nickname,\n        message:this.data.message,\n        sendDate:Date(),\n        status:'unread'\n      });\n      this.data.message = '';\n      }\n      else if( this.role==\"user\"||this.role==\"labAdmin\")\n      {\n        \n   console.log(` cc 6${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`)\n    let newData =  firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`).push();\n    newData.set({\n      type:this.data.type,\n      user:this.data.nickname,\n      message:this.data.message,\n      sendDate:Date(),\n      status:'unread'\n    });\n   \n    this.data.message = '';\n      }\n    }\n   // this.data.message = '';\n   setTimeout(()=>{this.content.scrollToBottom();},200); \n  }\n  async sendMessages(updateduri) {\n    /*\n    let idDetails=\"\";\n    let idVal=\"\"\n      if(this.chatType==\"TechnicalIssues\")\n      {\n        idDetails=\"ticketid\"\n         idVal=this.ticketId\n      }\n      else if(this.chatType==\"Reservations\")\n      {\n        idDetails=\"appointmentId\"\n         idVal=this.AppointmentIdGot\n      }\n*/\n//alert(`${updateduri}`)\n    console.log(\"adminid\",this.adminid);\n    console.log(\"userid\",this.userid);\n        if(this.role==\"providerAdmin\"||this.role==\"admin\"||this.role==\"super\")\n        {\n          console.log(` cc 7${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`);\n          let newData = await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.useridFrom}/chats`).push();\n          newData.set({\n            type:'image',\n            user:this.data.nickname,\n            message:updateduri,\n            sendDate:Date(),\n            status:'unread'\n          });\n          this.data.message = '';\n          }\n          else if( this.role==\"user\"||this.role==\"labAdmin\")\n          {\n            \n       console.log(` cc 8${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`)\n        let newData =  firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/${this.userJson.UserId}/chats`).push();\n        newData.set({\n          type:'image',\n          user:this.data.nickname,\n          message:updateduri,\n          sendDate:Date(),\n          status:'unread'\n        });\n       \n        this.data.message = '';\n          }\n    \n       // this.data.message = '';\n      }\n async adduserid()\n{ \n  \n  /*\n  let idDetails=\"\";\nlet idVal=\"\"\n  if(this.chatType==\"TechnicalIssues\")\n  {\n    idDetails=\"ticketid\"\n     idVal=this.ticketId\n  }\n  else if(this.chatType==\"Reservations\")\n  {\n    idDetails=\"appointmentId\"\n     idVal=this.AppointmentIdGot\n  }\n  */\nconsole.log(` cc 9${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/`);\n  let ref= firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}/`);\n  ref.child(`${this.curuser}`).set({\n    userid:`${this.curuser}`\n  }); \n  return 0;\n}\nasync loadAdminImage()\n{\n  /*\n  let idDetails=\"\";\n  let idVal=\"\"\n    if(this.chatType==\"TechnicalIssues\")\n    {\n      idDetails=\"ticketid\"\n       idVal=this.ticketId\n    }\n    else if(this.chatType==\"Reservations\")\n    {\n      idDetails=\"appointmentId\"\n       idVal=this.AppointmentIdGot\n    }\n    */\nconsole.log(`cc 10 ${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}`)\n // console.log(`chatrooms/${this.instid}/${this.adminid}`);\n  await firebase.database().ref(`${this.pins}/chatrooms/${this.chatType}/${this.idVal}/${this.idValParam}/${this.adminid}`).on('value', resp => {\n    this.imageContent = [];\n    this.imageContent = snapshotToArrayNew(resp);\n   console.log( \"imagecontent\",this.imageContent);\n  });\n}\n\n  exitChat() {\n    this.offStatus = true;\n\n   this.navCtrl.pop();\n  }\n\n \n \n  async uploadHandler() {\n  \n    const base64 = await this.changeimage();\n    this.createUploadTask(base64);\n   \n   }\n   async changeimage()\n   {\n     const options: CameraOptions = {\n       quality: 100,\n       destinationType: this.camera.DestinationType.DATA_URL,\n       encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n       sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n       saveToPhotoAlbum:false\n     }\n  \n     return await this.camera.getPicture(options)\n  }\n    \n  createUploadTask(file: string): void {\n\n\n      this.image = 'data:image/jpg;base64,' + file;\n      this.uri=this.image;\n      let picture = `chats_ideaelan/images/${this.userJson.UserId}/${Math.floor(Date.now() / 1000)}`;\n      this.storageimage.ref(picture).putString(this.image, 'data_url').then(()=>{\n      this.storageimage.ref(picture).getDownloadURL().subscribe(url =>\n      {\n        const Url =url;\n        this.url=Url;\n        this.sendMessages(this.url);\n      })\n      \n    })\n  \n    \n}\n\n\nasync  loadUserDetails(instid,num ){\n   \n  await this.http.get(this.getUserDetails+`/${instid},${num},${this.userJson.UserId},${this.userJson.UserToken}`)\n    .subscribe(\n      async (data: any) => {\n        //RESPONSE\n    \n        let resSTR = JSON.stringify(data);\n        let resJSON = JSON.parse(resSTR);\n        console.log(\"user id details \",resJSON);\n        this.userChatJson=resJSON;\n        //this.userChatJson=this.userChatJson;\n        this.senderName=`${this.userChatJson[0].LastName} ${this.userChatJson[0].FirstName}`;\n        console.log(\"sendername \",this.senderName);\n       // console.log(\"adminlist1\",this.userChatJson);\n       // this.suppliesJson = resJSON;\n\n\n\n      },//ERROR HANDLING\n      error => {\n        let resErr = JSON.stringify(error);\n        // this.suppliesValue = false;\n        \n      }\n    );\n}\n\n\n\n\n\n\n}\nexport const snapshotToArray = snapshot => {\n  let returnArr = [];\n  snapshot.forEach(childSnapshot => {\n\n      let item = childSnapshot.val();\n     // $key:item.key\n     console.log(item);\n      item.key = childSnapshot.key;\n      returnArr.push(item);\n  });\n\n  return returnArr;\n};\n\nexport const snapshotToArrayNew = snapshot => {\n  let returnArr = [];\n\n  snapshot.forEach(childSnapshot => {\n      let item = childSnapshot.val();\n      returnArr.push(item);\n  });\n\n  return returnArr;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-content/chat-content.ts"],"sourceRoot":""}