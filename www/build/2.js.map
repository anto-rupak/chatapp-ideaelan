{"version":3,"sources":["../../src/pages/inboxsuppliesdetails/inboxsuppliesdetails.module.ts","../../src/pages/inboxsuppliesdetails/inboxsuppliesdetails.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { InboxsuppliesdetailsPage } from './inboxsuppliesdetails';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InboxsuppliesdetailsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(InboxsuppliesdetailsPage),\r\n  ],\r\n})\r\nexport class InboxsuppliesdetailsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxsuppliesdetails/inboxsuppliesdetails.module.ts","import { MessageProvider } from './../../providers/message/message';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { AlertController } from 'ionic-angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Storage } from '@ionic/storage';\r\nimport { LoadingController } from 'ionic-angular';\r\nimport { isNumber } from 'util';\r\nimport * as moment from 'moment';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-inboxsuppliesdetails',\r\n  templateUrl: 'inboxsuppliesdetails.html',\r\n})\r\nexport class InboxsuppliesdetailsPage {\r\ngetOrderDetails:string;\r\nappUrl:string;\r\nuserJson:any;\r\norderId:string;\r\namount:String;\r\nupdateOrderUrl:string;\r\norderStatusDropdown:string;\r\ngetOrderStatusUrl:string;\r\norderStatus:string;\r\norderNumber:string;\r\naccountCode:string;\r\norderIds:string;\r\nproviderName:string;\r\ngroupName:string;\r\nuserName:string;\r\nphone:string;\r\ncreatedBy:string;\r\nsuppliesRequestJson:any;\r\nproductJson:any;\r\ndropdownDescription:string\r\nuserAddress:string;\r\nstatusActive:string;\r\norderDate:string;\r\nsupplyStatus:string;\r\nstatusDisable:boolean;\r\ncategoryList1:string;\r\ncategoryList:string;\r\nprojectName:string;\r\n  constructor(public message:MessageProvider,public navCtrl: NavController, public navParams: NavParams, public storage: Storage,\r\n    public loading: LoadingController, public http: HttpClient, private alertCtrl: AlertController) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.orderId = this.navParams.get('orderId');\r\n    this.supplyStatus = this.navParams.get('supplyStatus');\r\n    this.storage.get('appLink').then((val) => {\r\n    this.appUrl = val;\r\n    this.getOrderDetails = this.appUrl + '/WS/IdeaElanService.svc/GetOrderDetails/'+this.orderId;\r\n    this.getOrderStatusUrl= this.appUrl + '/WS/IdeaElanService.svc/GetAllOrderStatus';\r\n    this.updateOrderUrl= this.appUrl + '/WS/IdeaElanService.svc/UpdateOrderDetails';\r\n  });\r\n  this.storage.get('userDetails').then((val1) => {\r\n    this.userJson = val1;\r\n  });\r\n  }\r\n  ionViewDidEnter(){\r\n    if(this.supplyStatus == 'Completed'){\r\n      this.statusDisable = true;\r\n    }else{\r\n     this.statusDisable = false;\r\n    }\r\n    this.suppliesRequest();\r\n  }\r\n\r\n  updateSupplies(){\r\n    this.http.post(this.updateOrderUrl, {\r\n          orderid:this.orderId,\r\n          orderstatus:this.orderStatus,\r\n          createdby:this.createdBy,\r\n          activestatus:'Active'\r\n    })\r\n      .subscribe(\r\n        (data: any) => {\r\n          //RESPONSE\r\n \r\n            if(!isNaN(data)){\r\n           this.message.showMessagePop('Message','Status Updated Successfully');\r\n          }else{\r\n            this.message.showMessage('Message',data);\r\n          }\r\n           \r\n\r\n        },//ERROR HANDLING\r\n        error => {\r\n\r\n          let resErr = JSON.stringify(error);\r\n          let resErrJSON = JSON.parse(resErr);\r\n\r\n\r\n        }\r\n      );\r\n  }\r\nsendUpdateRequest(){\r\nif(this.orderStatus == undefined || this.orderStatus == null){\r\nthis.message.showMessage('Alert','Select option');\r\n}else{\r\n  this.updateSupplies();\r\n}\r\n}\r\n  suppliesRequest(){\r\n    let loader = this.loading.create({\r\n      spinner: \"crescent\",\r\n      content: \"Loading . . . \",\r\n      duration: 3000\r\n    });\r\n    loader.present();\r\n    this.http.get(this.getOrderDetails)\r\n      .subscribe(\r\n        (data: any) => {\r\n          //RESPONSE\r\n       \r\n          let resSTR = JSON.stringify(data);\r\n          let resJSON = JSON.parse(resSTR);\r\n          this.suppliesRequestJson = resJSON;\r\n          this.orderIds = this.suppliesRequestJson[0].OrderId;\r\n          this.orderNumber = this.suppliesRequestJson[0].OrderNumber;\r\n          this.accountCode= this.suppliesRequestJson[0].AccountCode;\r\n          this.providerName= this.suppliesRequestJson[0].ProviderName;\r\n          this.groupName= this.suppliesRequestJson[0].GroupName;\r\n          this.userName= this.suppliesRequestJson[0].UserFullName;\r\n          this.phone= this.suppliesRequestJson[0].phone;\r\n          this.createdBy= this.suppliesRequestJson[0].CreatedBy\r\n          this.userAddress= this.suppliesRequestJson[0].UserAddress\r\n          this.projectName= this.suppliesRequestJson[0].ProjectName;\r\n          this.amount= this.suppliesRequestJson[0].Amount;\r\n          this.productJson =this.suppliesRequestJson[0].Products;\r\n          this.orderDate =moment(this.suppliesRequestJson[0].OrderDate).format('MMMM D, YYYY');;\r\n          this.dropdownDescription = this.suppliesRequestJson[0].Description;\r\n          this.statusActive = this.suppliesRequestJson[0].ActiveStatus;\r\n          if(this.productJson!=null){\r\n\r\n\r\n           \r\n            this.categoryList=\"\";\r\n            \r\n            this.productJson.map(item => item.CategoryName)\r\n              .filter((value, index, self) => self.indexOf(value) === index)\r\n          \r\n            .filter((value, index, self) => self.indexOf(value) === index);\r\n            this.categoryList1=this.productJson.map(item => item.CategoryName)\r\n            .filter((value, index, self) => self.indexOf(value) === index);\r\n            \r\n             if(this.categoryList1!=null){\r\n               for(let i=0;i<this.categoryList1.length ;i++)\r\n               {     \r\n                 \r\n                if(i!=this.categoryList1.length-1)\r\n                {\r\n                this.categoryList = this.categoryList + ` ${this.categoryList1[i]}  ,`\r\n                }\r\n                else if(i==this.categoryList1.length-1)\r\n                {\r\n                 this.categoryList = this.categoryList + ` ${this.categoryList1[i]} `\r\n                }\r\n         \r\n                \r\n               }\r\n              \r\n             }\r\n            }\r\n          this.orderStatusRequest();\r\n          loader.dismiss();\r\n        },//ERROR HANDLING\r\n        error => {\r\n          loader.dismiss();\r\n          let resErr = JSON.stringify(error);\r\n        }\r\n      );\r\n  }\r\n  \r\n  orderStatusRequest(){\r\n    this.http.get(this.getOrderStatusUrl)\r\n      .subscribe(\r\n        (data: any) => {\r\n  \r\n         this.orderStatusDropdown = JSON.parse(JSON.stringify(data));\r\n         this.getorderId(this.dropdownDescription,this.orderStatusDropdown)\r\n        },//ERROR HANDLING\r\n        error => {\r\n          let resErr = JSON.stringify(error);\r\n        }\r\n      );\r\n  }\r\n  updateChange(){\r\n    this.orderStatus;\r\n  }\r\n  getorderId(key, data) {\r\n    if (data.length > 0 || data != undefined) {\r\n      for (let i = 0; data.length > i; i += 1) {\r\n        if (data[i].Description == key) {\r\n         this.orderStatus  = data[i].OrderStatusId\r\n        }\r\n      }\r\n    } else {\r\n     \r\n    }\r\n    //return this.labId = data[0].ProjectId;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/inboxsuppliesdetails/inboxsuppliesdetails.ts"],"sourceRoot":""}