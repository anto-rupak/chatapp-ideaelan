<!--
  Generated template for the AppointmentsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton>
    
     <ion-buttons start>
      <button (click)="goBack()" royal>
        <ion-icon name="arrow-round-back" style='zoom:1;color: #0096ff'></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>{{pageName}}</ion-title>
   <ion-buttons end>
      <div (click)="resetPage()">
        <ion-icon name="refresh" style="zoom:1;color: #0096ff;"></ion-icon>
      </div>
    </ion-buttons>
   
  </ion-navbar>
</ion-header>

<ion-content>
  <div>
    <ion-item>
      <ion-datetime picker [(ngModel)]="startTime" (ionChange)="startdatetime($event)" displayFormat=" MM D YYYY h:mm A"
        minuteValues="0,15,30,45" max="2099" min="1990">
      </ion-datetime>
      <ion-label> <button ion-button id="endbutton">Start Date</button> <span
          style="margin-top:50%;">{{startTime | date: "MM-dd-yyyy h:mm a"}}</span></ion-label>
    </ion-item>
  </div>
  <div>
    <ion-item>
      <ion-datetime picker [(ngModel)]="endTime" (ionChange)="enddatetime($event)" displayFormat="MM D YYYY h:mm A"
        minuteValues="0,15,30,45" max="2099" min="1990"></ion-datetime>
      <ion-label> <button ion-button id="startbutton">End Date</button>
        <span style="margin-top:50%;">{{endTime | date: "MM-dd-yyyy h:mm a"}}</span></ion-label>
    </ion-item>
  </div>
  <ion-item *ngIf='isUserOpenUp'>
    <ion-label>
      User
    </ion-label>
    <ion-select placeholder='' multiple="false" [(ngModel)]="user_Id" (ionChange)="userOnChangeHandeler()">
      <ion-option *ngFor="let user of user_Json" value="{{user.UserId}}">{{user.UserName}}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select1" *ngIf ='!isprojectDisabled'>
    <ion-label>
      Project/Membership <span *ngIf="isProjectMand">*</span>
    </ion-label>
    <ion-select placeholder='' multiple="false" [(ngModel)]="project_Id" (ionChange)="projectOnChangeHandeler()">
      <ion-option *ngIf='status_Proj' value='0' selected>No Records Found</ion-option>
      <ion-option *ngIf='!status_Proj' value='0' selected>Not Applicable</ion-option>
      <ion-option *ngFor="let project of project_Json " value="{{project.ProjectId}}">{{project.ProjectName}}
      </ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select2">
    <ion-label>
      Lab*
    </ion-label>
    <ion-select placeholder='' multiple="false" [(ngModel)]="lab_Id" (ionChange)="accountHandling()">
      <ion-option *ngIf='status_Lab' value='0' selected>No Records Found</ion-option>
      <ion-option *ngIf='!status_Lab' value='0' selected>Select Lab</ion-option>
      <ion-option *ngFor="let lab of lab_Json" value="{{lab.GroupId}}">{{lab.GroupName}}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select3" [hidden]="isAccountOpenup">
    <ion-label>
      {{labType}}*
    </ion-label>
    <ion-select placeholder='' multiple="false" [(ngModel)]="account_Id" (ionChange)="GetSessionDetails()">
      <ion-option *ngIf='status_Account' value="0">No Records Found</ion-option>
      <ion-option *ngIf='!status_Account' value='0' selected>{{labType}}</ion-option>

      <ion-option *ngFor="let AccCode of account_Json" value="{{AccCode.GroupAccountCodeId}}">{{AccCode.AccountCode}}
      </ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select4">
    <ion-label>
      Session*
    </ion-label>
    <ion-select placeholder='' multiple="false" [(ngModel)]="session_Id" (ionChange)="GetAdminDetails()" >
      <ion-option *ngIf='status_Session' value='0' selected>No Records Found</ion-option>
      <ion-option *ngIf='!status_Session' value='0' selected>Select Session</ion-option>
      <ion-option *ngFor="let Session of session_Json" value="{{Session.SessionMapId}}">{{Session.SessionType}}
      </ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select7" *ngIf='isAdminOpenup'>
    <ion-label>
      Admin*
    </ion-label>
    <ion-select placeholder='Select Admin' multiple="true" [(ngModel)]="admin_Id" >
      <ion-option *ngFor="let Admin of admin_Json" value="{{Admin.AdminId}}">{{Admin.UserName}}</ion-option>
    </ion-select>
  </ion-item>
  <ion-item id="page-select7" [hidden]="!isTagOpenUp">
    <ion-label>
      Tags <span *ngIf="isTagMandatory">*</span>
    </ion-label>
    <ion-select placeholder='Select Tags' multiple="true" [(ngModel)]="tag_Id">
      <ion-option *ngFor="let tags of tag_Json" value="{{tags.TagId}}">{{tags.TagName}}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item id="page-textarea1">
    
    <ion-textarea [(ngModel)]="specialInst" style=" border: 1px solid #000000; margin: 0.1em;" placeholder='Special Instruction'></ion-textarea>
  </ion-item>
  
  <ion-row center>
    <ion-col text-center>
      <button id="page-button3" ion-button color="positive" (click)='validationRequest()'>
        {{this.buttonName}}
      </button>
    </ion-col>
  </ion-row>
</ion-content>